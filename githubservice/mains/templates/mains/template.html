{% extends 'base.html' %}
{% load static %}
{% block style %}
<style>
.title{
  font-size:36px;
  font-weight:400; 
  text-align: center;
}
.subtitle{
  font-size:22px; 
  font-weight:200; 
  text-align: center;  
}
</style>
{% endblock style %}
{% block content %}
<div class="title pt-5">템플릿</div>
  <div class="subtitle">원하시는 색상을 선택하세요.</div>
  <br>
    <div class ='row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4'>  
        {% for post in posts %}
        <div class='col'>
           {% include 'mains/card.html' %}
        </div>
        {% endfor %}
    </div>
  </div>
</div>

<!-- Template Detail Modal End-->
  <script>
  // 1. 누구를
  var likeButtons = document.querySelectorAll('.fa-heart')   
   likeButtons.forEach(function(likeButton){
  // 2. 어떻게 했을때
    likeButton.addEventListener('click',function(event){
      // 클릭이 일어나면 뭔가를 해줘
      var targetId =event.target.dataset.id
       axios.get(`/mains/${targetId}/like/`)
      .then(function(res){
        if(res.data.liked){
          // 좋아요를 누른 경우(true)
          event.target.style.color = 'red'
          event.target.classList.remove('far')
          event.target.classList.add('fas')
        }else{
          // 좋아요 취소한 경우(false)
          event.target.style.color = 'gray'
          event.target.classList.remove('fas')
          event.target.classList.add('far')
        }
      })
    }) 
  })
  </script>
{% endblock %}